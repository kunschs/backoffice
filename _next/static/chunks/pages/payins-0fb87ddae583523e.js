(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[238],{3249:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payins",function(){return a(5982)}])},1450:function(e,t,a){"use strict";var n=a(5893),s=a(1163),r=a(5040),i=a(7294);let l=e=>{let t=t=>{let a=(0,s.useRouter)(),l=(0,r.LP)();return(0,i.useEffect)(()=>{l||a.push("/login")},[l,a]),l?(0,n.jsx)(e,{...t}):null};return t};t.Z=l},5982:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var n=a(5893),s=a(9977),r=a(1163),i=a(2243),l=a(1700);let o=e=>{let{columns:t,content:a,title:s,size:r,isLoading:o,onDoubleClick:u}=e;return(0,n.jsxs)(n.Fragment,{children:[s?(0,n.jsx)(l.Z,{level:4,style:{marginBottom:"20px"},children:s}):(0,n.jsx)(n.Fragment,{}),(0,n.jsx)(i.Z,{bordered:!0,loading:o,columns:t,size:r||"middle",dataSource:a,pagination:{defaultPageSize:50},onRow:e=>({onDoubleClick:t=>{u&&u(e)}})})]})};var u=a(1450),c=a(8186),d=a(3454);class E extends c.Z{async getPayinTransactions(){let{data:e}=await this.api.get("/dashboard/transactions",{headers:{Accept:"application/json"}});return e.content}async getPayoutTransactions(){let{data:e}=await this.api.get("/dashboard/payout/transactions",{headers:{Accept:"application/json"}});return e.content}async getPayeeMerchants(){let{data:e}=await this.api.get("/dashboard/payout/payee",{headers:{Accept:"application/json"}});return e.content}async getRefunds(){let{data:e}=await this.api.get("/dashboard/refunds",{headers:{Accept:"application/json"}});return e.content}async getCustomers(){let{data:e}=await this.api.get("/dashboard/customers",{headers:{Accept:"application/json"}});return e.content}constructor(e){super(e),this.api.defaults.baseURL=d.env.NEXT_PUBLIC_TRANSACTION_CLIENT_BASE_URL}}let I=(e,t)=>e>t?1:e<t?-1:0;a(8);let D=e=>e?new Date(e).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}):"",A=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),L=e=>{let{status:t,approvedList:a,deniedList:n,failedList:s,actionRequiredList:r,paidList:i,refundedList:l}=e;return(null==a?void 0:a.includes(t))?"green":(null==n?void 0:n.includes(t))?"yellow":(null==s?void 0:s.includes(t))?"red":(null==r?void 0:r.includes(t))?"blue":(null==i?void 0:i.includes(t))?"green":(null==l?void 0:l.includes(t))?"orange":null==t?"":"default"};var p=a(7294);let R={PAID_LIST:["CAPTURED","PAID"],REFUNDED_LIST:["REFUNDED","CHARGEBACK_DISPUTE","PARTIALLY_REFUNDED"],DENIED_LIST:["DENIED","ANALYSIS_FAILED","EXPIRED"],ACTION_REQUIRE_LIST:["PENDING"],FAILED_LIST:["FAILED","EXTERNAL_FAILURE"]},_=[{title:"ID",dataIndex:"id",key:"id"},{title:"External ID",dataIndex:"externalId",key:"externalId",ellipsis:!0},{title:"Merchant name",dataIndex:"softDescriptor",key:"softDescriptor"},{title:"Customer name",dataIndex:"customerName",key:"customerName"},{title:"Payment method",dataIndex:"collectType",key:"collectType",filters:[{text:"PIX",value:"PIX"},{text:"CREDIT CARD",value:"CREDIT_CARD"},{text:"BOLETO",value:"BOLETO"}],onFilter:(e,t)=>0===t.collectType.indexOf(e)},{title:"Status",dataIndex:"status",key:"status",filters:[{text:"PAID",value:"PAID"},{text:"CAPTURED",value:"CAPTURED"},{text:"REFUNDED",value:"REFUNDED"},{text:"CHARGEBACK_DISPUTE",value:"CHARGEBACK_DISPUTE"},{text:"PARTIALLY_REFUNDED",value:"PARTIALLY_REFUNDED"},{text:"DENIED",value:"DENIED"},{text:"ANALYSIS_FAILED",value:"ANALYSIS_FAILED"},{text:"EXPIRED",value:"EXPIRED"},{text:"PENDING",value:"PENDING"},{text:"FAILED",value:"FAILED"},{text:"EXTERNAL_FAILURE",value:"EXTERNAL_FAILURE"}],onFilter:(e,t)=>0===t.status.indexOf(e),render:e=>(0,n.jsx)(s.Z,{color:L({status:e,paidList:R.PAID_LIST,refundedList:R.REFUNDED_LIST,deniedList:R.DENIED_LIST,failedList:R.FAILED_LIST,actionRequiredList:R.ACTION_REQUIRE_LIST}),children:e.toUpperCase()})},{title:"Amount",dataIndex:"amount",key:"amount",render:e=>A(e)},{title:"Date",dataIndex:"createdAt",key:"createdAt",render:e=>D(e),sorter:(e,t)=>I(e.createdAt,t.createdAt)}],T=()=>{let[e,t]=(0,p.useState)(),a=(0,r.useRouter)(),s=async()=>{let e=new E;t(await e.getPayinTransactions())};return(0,p.useEffect)(()=>{s()},[]),(0,n.jsx)(o,{columns:_,content:e,title:"PayIn Transactions",onDoubleClick:e=>a.push("/payins/".concat(e.id))})};var N=(0,u.Z)(T)},8186:function(e,t,a){"use strict";var n=a(5040),s=a(7066);t.Z=class{constructor(e){this.api=s.Z.create();let t=(0,n.LP)(e);t&&(this.api.defaults.headers.Authorization="Bearer ".concat(t))}}}},function(e){e.O(0,[678,885,287,392,48,932,558,149,515,774,888,179],function(){return e(e.s=3249)}),_N_E=e.O()}]);